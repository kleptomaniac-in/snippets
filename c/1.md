I'll create a Java component that processes data based on your criteria and produces output suitable for FreeMarker templates.I've created a generic table data component with the following features:

**Key Components:**

1. **ColumnDefinition**: Defines each column with a field name (for data access) and label (for display)

2. **TableData**: The output model containing columns and rows, designed for FreeMarker templates

3. **GenericTableDataComponent**: The main processor that:
   - Accepts a data source (List of Maps)
   - Applies filtering criteria (using Predicate)
   - Extracts only the specified columns
   - Returns FreeMarker-ready TableData

**Usage Example:**
```java
// Define columns
List<ColumnDefinition> columns = Arrays.asList(
    new ColumnDefinition("name", "Employee Name"),
    new ColumnDefinition("department", "Department")
);

// Filter criteria
Predicate<Map<String, Object>> criteria = 
    record -> "Engineering".equals(record.get("department"));

// Process
TableData tableData = component.processData(dataSource, criteria, columns);
```

**FreeMarker Template Example:**
```ftl
<table>
  <thead>
    <tr>
      <#list tableData.columns as column>
        <th>${column.label}</th>
      </#list>
    </tr>
  </thead>
  <tbody>
    <#list tableData.rows as row>
      <tr>
        <#list tableData.columns as column>
          <td>${row[column.fieldName]!""}</td>
        </#list>
      </tr>
    </#list>
  </tbody>
</table>
```

Would you like me to add additional features like sorting, pagination, or custom formatters?